---
phase: 12-settings-redesign
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/renderer/src/components/ui/tabs.tsx
  - src/main/ipc/claude.ts
  - src/preload/index.ts
  - src/shared/types/api.ts
autonomous: true

must_haves:
  truths:
    - "Tabs component available for import"
    - "Renderer can check Claude CLI availability via IPC"
  artifacts:
    - path: "src/renderer/src/components/ui/tabs.tsx"
      provides: "Tabs, TabsList, TabsTrigger, TabsContent exports"
    - path: "src/main/ipc/claude.ts"
      provides: "claude:check-availability handler"
      exports: ["registerClaudeHandlers"]
    - path: "src/preload/index.ts"
      provides: "checkAvailability in claude namespace"
    - path: "src/shared/types/api.ts"
      provides: "ClaudeAvailability type"
  key_links:
    - from: "src/preload/index.ts"
      to: "src/main/ipc/claude.ts"
      via: "ipcRenderer.invoke('claude:check-availability')"
---

<objective>
Install shadcn/ui Tabs component and add Claude CLI availability check via IPC.

Purpose: Infrastructure for tabbed settings dialog and Claude status display.
Output: Tabs UI component + IPC handler that checks if Claude CLI is installed.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/12-settings-redesign/12-RESEARCH.md

@src/main/ipc/claude.ts
@src/preload/index.ts
@src/shared/types/api.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install shadcn/ui Tabs component</name>
  <files>src/renderer/src/components/ui/tabs.tsx</files>
  <action>
Run `npx shadcn@latest add tabs` from project root to install Tabs component.
This creates tabs.tsx with Tabs, TabsList, TabsTrigger, TabsContent exports.
Verify file created and exports work.
  </action>
  <verify>`ls src/renderer/src/components/ui/tabs.tsx` exists</verify>
  <done>tabs.tsx exists with Tabs, TabsList, TabsTrigger, TabsContent exports</done>
</task>

<task type="auto">
  <name>Task 2: Add Claude CLI availability IPC handler</name>
  <files>
    src/main/ipc/claude.ts
    src/preload/index.ts
    src/shared/types/api.ts
  </files>
  <action>
1. In `src/shared/types/api.ts`:
   - Add `ClaudeAvailability` interface: `{ available: boolean; path: string | null; version: string | null }`
   - Add `checkAvailability: () => Promise<ClaudeAvailability>` to `ElectronAPI.claude`

2. In `src/main/ipc/claude.ts`:
   - Add import for `spawn` from 'child_process'
   - Add `ipcMain.handle('claude:check-availability', ...)` handler
   - Use `which` (Unix) or `where` (Windows) to find claude
   - If found, spawn `claude --version` to get version string
   - Return `{ available, path, version }` object

3. In `src/preload/index.ts`:
   - Add `checkAvailability: () => ipcRenderer.invoke('claude:check-availability')` to claude namespace

Pattern from research:
```typescript
ipcMain.handle('claude:check-availability', async (): Promise<ClaudeAvailability> => {
  return new Promise((resolve) => {
    const cmd = process.platform === 'win32' ? 'where' : 'which'
    const proc = spawn(cmd, ['claude'], { shell: true })
    // ... handle stdout, close, error as shown in 12-RESEARCH.md
  })
})
```
  </action>
  <verify>
TypeScript compiles: `npm run typecheck`
Handler registered: grep for 'claude:check-availability' in ipc/claude.ts
  </verify>
  <done>
ClaudeAvailability type defined, IPC handler returns availability info, preload exposes checkAvailability
  </done>
</task>

</tasks>

<verification>
- `ls src/renderer/src/components/ui/tabs.tsx` exists
- `npm run typecheck` passes
- `grep 'check-availability' src/main/ipc/claude.ts` shows handler
- `grep 'checkAvailability' src/preload/index.ts` shows preload binding
</verification>

<success_criteria>
- Tabs component installed and importable
- Claude availability check callable from renderer via window.api.claude.checkAvailability()
- Types properly defined for ClaudeAvailability
</success_criteria>

<output>
After completion, create `.planning/phases/12-settings-redesign/12-01-SUMMARY.md`
</output>
