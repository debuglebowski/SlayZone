# View 8: Composite Layout

How all views compose within SlayZone's existing UI. Shows where
the conflict resolution fits relative to sidebar, tabs, terminal.

## Full App Layout During Merge Conflict

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SlayZone                                                     â”€ â–¡ Ã—             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚ SIDE   â”‚  â”‚ Claude  â”‚ â”‚Terminal â”‚ â”‚âš  Merge (3/8)â”‚ â—€â”€â”€ merge tab with badge     â”‚
â”‚ BAR    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        â”‚                                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â” â”‚  â”Œâ”€ View Switcher â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ ğŸ  â”‚ â”‚  â”‚  [Dashboard]  [Three-Way]  [Inline â—]  [Side-by-Side]  [AI]  â”‚    â”‚
â”‚ â”œâ”€â”€â”€â”€â”¤ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚ â”‚ Pr â”‚ â”‚                                                                         â”‚
â”‚ â”‚oj â”‚ â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Current View â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ A  â”‚ â”‚   â”‚                                                                â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”¤ â”‚   â”‚          (whichever view is selected renders here)             â”‚   â”‚
â”‚ â”‚ Pr â”‚ â”‚   â”‚                                                                â”‚   â”‚
â”‚ â”‚oj â”‚ â”‚   â”‚  Could be:                                                     â”‚   â”‚
â”‚ â”‚ B  â”‚ â”‚   â”‚  - Dashboard (view 01)                                         â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”¤ â”‚   â”‚  - Three-Way Merge Editor (view 02)                            â”‚   â”‚
â”‚ â”‚ Pr â”‚ â”‚   â”‚  - Inline Unified View (view 03)                               â”‚   â”‚
â”‚ â”‚oj â”‚ â”‚   â”‚  - Side-by-Side Diff (view 04)                                 â”‚   â”‚
â”‚ â”‚ C  â”‚ â”‚   â”‚  - AI Resolution Flow (view 05)                                â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”¤ â”‚   â”‚  - Rebase Stepper (view 06)                                    â”‚   â”‚
â”‚ â”‚    â”‚ â”‚   â”‚  - Chunk Navigator (view 07)                                   â”‚   â”‚
â”‚ â”‚    â”‚ â”‚   â”‚                                                                â”‚   â”‚
â”‚ â”‚    â”‚ â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ â”‚    â”‚ â”‚                                                                         â”‚
â”‚ â”‚    â”‚ â”‚  â”Œâ”€ Git Status Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚    â”‚ â”‚  â”‚ âš  MERGE IN PROGRESS  feature/auth â†’ main   3/8 resolved       â”‚    â”‚
â”‚ â”‚    â”‚ â”‚  â”‚ [Abort Merge]                              [Complete Merge]     â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”˜ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚        â”‚                                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Git: feature/auth  â”‚  âš  Merging  â”‚  3/8 files  â”‚                  v0.1.0      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Tab Behavior

```
Normal task:       [Claude â—] [Terminal]  [Git Diff]
                      â†“          â†“           â†“
                   AI chat    Shell     Working diff

During merge:      [Claude] [Terminal] [âš  Merge (3/8)]
                                           â†“
                                    Conflict resolver
                                    (with view switcher)
```

The merge tab replaces the terminal as the primary view during conflict
resolution. Claude and Terminal tabs remain accessible for:
- Asking AI about the codebase during merge
- Running tests to verify resolution
- Checking git log, etc.

## View Navigation Flow

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Dashboard â”‚ â—€â”€â”€ entry point (view 01)
                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                          â”‚
                    click [Open â–¸]
                          â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â–¼         â–¼         â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚Three-Way â”‚ â”‚Inline â”‚ â”‚Side-by-  â”‚   â—€â”€â”€ file-level views
          â”‚  (02)    â”‚ â”‚ (03)  â”‚ â”‚Side (04) â”‚       (toggle between)
          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
               â”‚           â”‚          â”‚
               â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
              [AI Suggest]
                     â”‚
                     â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ AI Resolution  â”‚   â—€â”€â”€ can be accessed from any file view
            â”‚   Flow (05)    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Rebase mode:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Rebase Stepperâ”‚ â”€â”€â–¸ â”‚ (any file    â”‚   â—€â”€â”€ stepper wraps file views
â”‚    (06)      â”‚     â”‚   view)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Keyboard mode:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Chunk Navigatorâ”‚   â—€â”€â”€ standalone file view, keyboard-first
â”‚    (07)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Merge State Persistence

```
task.merge_state = 'conflicts'
task.merge_conflict_data = {
  type: 'merge' | 'rebase',
  source_branch: 'feature/auth',
  target_branch: 'main',
  files: [
    { path: 'src/api/routes.ts', hunks: 3, resolved: 1 },
    { path: 'src/api/index.ts',  hunks: 1, resolved: 0 },
    ...
  ],
  current_view: 'inline',
  current_file: 'src/api/routes.ts',
  current_hunk: 1,
  rebase_step: null | { current: 4, total: 7, commit: 'jkl3456' }
}
```

State persists on the task row â€” user can close the app mid-merge,
reopen, and continue exactly where they left off.
